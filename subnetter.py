from netaddr import IPNetwork

infile = open("newIps.txt", 'r+')
outfile = open("newIpList.txt", 'w')
lines = infile.readlines()
replace = ""
iplist = []

for index, line in enumerate(lines):
    print(index)
    if "/" in line:
        for ip in IPNetwork(line):
            if (ip != IPNetwork(line).broadcast) and (ip != IPNetwork(line).network):
                iplist.append(ip)

for line in iplist:
    replace = str(line)
    #outfile.write(line.replace(replace, '%s' % ip + "\n"))
    outfile.write('%s' % replace + "\n")

infile.close()
outfile.close()
